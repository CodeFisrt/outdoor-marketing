<div class="container mt-5">
  <div class="card shadow-lg border-0">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
      <h5 class="mb-0">{{ societyForm.value.s_id ? '‚úèÔ∏è Edit Society' : '‚ûï Add Society' }}</h5>
      <button class="btn btn-light btn-sm" routerLink="/dashboard/wall-painting">
        <i class="bi bi-arrow-left me-1"></i>Back
      </button>
    </div>

    <div class="card-body p-4">
      <form [formGroup]="societyForm" (ngSubmit)="societyForm.value.s_id ? update() : add()">

        <!-- üîπ Society Info -->
        <h6 class="mb-3 text-primary">Society Info</h6>
        <div class="row g-3 mb-4">
          <div class="col-md-4">
            <label class="form-label">Society Name</label>
            <input class="form-control" formControlName="s_name" placeholder="Enter society name" />
            <small class="text-danger"
              *ngIf="societyForm.get('s_name')?.touched && societyForm.get('s_name')?.invalid">
              Society name is required
            </small>
          </div>

          <div class="col-md-4">
            <label class="form-label">City</label>
            <input class="form-control" formControlName="s_city" placeholder="Enter city" />
            <small class="text-danger"
              *ngIf="societyForm.get('s_city')?.touched && societyForm.get('s_city')?.invalid">
              City is required
            </small>
          </div>

          <div class="col-md-4">
            <label class="form-label">Area</label>
            <input class="form-control" formControlName="s_area" placeholder="Enter area" />
            <small class="text-danger"
              *ngIf="societyForm.get('s_area')?.touched && societyForm.get('s_area')?.invalid">
              Area is required
            </small>
          </div>

          <div class="col-md-3">
            <label class="form-label">Pincode</label>
            <input class="form-control" formControlName="s_pincode" placeholder="6-digit pincode" />
            <small class="text-danger"
              *ngIf="societyForm.get('s_pincode')?.touched && societyForm.get('s_pincode')?.invalid">
              Enter valid 6-digit pincode
            </small>
          </div>

          <div class="col-md-3">
            <label class="form-label">No. of Flats</label>
            <input type="number" class="form-control" formControlName="s_no_flats" min="1" />
            <small class="text-danger"
              *ngIf="societyForm.get('s_no_flats')?.touched && societyForm.get('s_no_flats')?.invalid">
              Enter flats (min 1)
            </small>
          </div>

          <div class="col-md-3">
            <label class="form-label">Type</label>
            <select class="form-select" formControlName="s_type">
              <option value="">--Select--</option>
              <option value="Residential">Residential</option>
              <option value="Commercial">Commercial</option>
            </select>
            <small class="text-danger"
              *ngIf="societyForm.get('s_type')?.touched && societyForm.get('s_type')?.invalid">
              Select type
            </small>
          </div>
        </div>

        <!-- üîπ Contact Info -->
        <h6 class="mb-3 text-primary">Contact Info</h6>
        <div class="row g-3 mb-4">
          <div class="col-md-4">
            <label class="form-label">Contact Person</label>
            <input class="form-control" formControlName="s_contact_person_name" placeholder="Name" />
            <small class="text-danger"
              *ngIf="societyForm.get('s_contact_person_name')?.touched && societyForm.get('s_contact_person_name')?.invalid">
              Required
            </small>
          </div>

          <div class="col-md-4">
            <label class="form-label">Contact Number</label>
            <input class="form-control" formControlName="s_contact_num" placeholder="10-digit number" />
            <small class="text-danger"
              *ngIf="societyForm.get('s_contact_num')?.touched && societyForm.get('s_contact_num')?.invalid">
              Enter 10-digit number
            </small>
          </div>
        </div>

        <!-- üîπ Event Info -->
        <h6 class="mb-3 text-primary">Event Info</h6>
        <div class="row g-3 mb-4">
          <div class="col-md-4">
            <label class="form-label">Event Type</label>
            <input class="form-control" formControlName="s_event_type" placeholder="Type of event" />
          </div>

          <div class="col-md-3">
            <label class="form-label">Event Date</label>
            <input type="date" class="form-control" formControlName="event_date" />
          </div>

          <div class="col-md-3">
            <label class="form-label">Event Time</label>
            <input type="time" class="form-control" formControlName="event_time" />
          </div>

          <div class="col-md-6">
            <label class="form-label">Address</label>
            <input class="form-control" formControlName="s_address" placeholder="Enter address" />
          </div>

          <div class="col-md-3">
            <label class="form-label">Latitude</label>
            <input class="form-control" formControlName="s_lat" placeholder="e.g. 18.5204" />
          </div>

          <div class="col-md-3">
            <label class="form-label">Longitude</label>
            <input class="form-control" formControlName="s_long" placeholder="e.g. 73.8567" />
          </div>

          <div class="col-md-3">
            <label class="form-label">Expected Crowd</label>
            <input type="number" class="form-control" formControlName="s_crowd" min="1" />
          </div>
        </div>

        <!-- üîπ Approval & Status -->
        <div class="row g-3 mb-4">
          <div class="col-md-3">
            <label class="form-label">Approval Status</label>
            <select class="form-select" formControlName="approval_status">
              <option value="Pending">Pending</option>
              <option value="Approved">Approved</option>
              <option value="Rejected">Rejected</option>
            </select>
          </div>

          <div class="col-md-3">
            <label class="form-label">Event Status</label>
            <select class="form-select" formControlName="event_status">
              <option value="Scheduled">Scheduled</option>
              <option value="Ongoing">Ongoing</option>
              <option value="Completed">Completed</option>
              <option value="Cancelled">Cancelled</option>
            </select>
          </div>

          <div class="col-md-3">
            <label class="form-label">Expected Cost</label>
            <input type="number" class="form-control" formControlName="expected_cost" />
          </div>

          <div class="col-md-3">
            <label class="form-label">Actual Cost</label>
            <input type="number" class="form-control" formControlName="actual_cost" />
          </div>
        </div>

        <!-- üîπ Responsible & Follow-up -->
        <div class="row g-3 mb-4">
          <div class="col-md-4">
            <label class="form-label">Responsible Person</label>
            <input class="form-control" formControlName="responsible_person" />
          </div>

          <div class="col-md-4">
            <label class="form-label">Follow-up Date</label>
            <input type="date" class="form-control" formControlName="follow_up_date" />
          </div>
        </div>

        <!-- üîπ Remarks -->
        <div class="mb-4">
          <label class="form-label">Remarks</label>
          <textarea class="form-control" formControlName="remarks" rows="2" placeholder="Additional notes"></textarea>
        </div>

        <!-- üîπ Buttons -->
        <div class="d-flex justify-content-end">
          <button class="btn btn-outline-secondary me-2" type="button" (click)="societyForm.reset()">Reset</button>
          <button class="btn btn-secondary me-2" type="button" routerLink="/societies">Cancel</button>
          <button class="btn" [ngClass]="{'btn-success': !societyForm.value.s_id, 'btn-warning': societyForm.value.s_id}"
            type="submit" [disabled]="societyForm.invalid">
            {{ societyForm.value.s_id ? 'Update' : 'Add' }}
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
